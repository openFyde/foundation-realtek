From f18ce148ed57d259362999c614729740888303d0 Mon Sep 17 00:00:00 2001
From: Phinex Hung <phinex@realtek.com>
Date: Thu, 29 Aug 2024 14:12:31 +0800
Subject: [PATCH] [PATCH] build: arm: Add target_rtd1xxx

---
 arch/arm/Kconfig      | 14 +++++++++++++-
 arch/arm/Makefile     |  1 +
 arch/arm/dts/Makefile |  8 ++++++++
 3 files changed, 22 insertions(+), 1 deletion(-)

diff --git a/arch/arm/Kconfig b/arch/arm/Kconfig
index d812685c98..702bdbc4f6 100644
--- a/arch/arm/Kconfig
+++ b/arch/arm/Kconfig
@@ -1049,6 +1048,17 @@ config ARCH_QEMU
 	imply USB_KEYBOARD
 	imply CMD_USB
 
+config ARCH_REALTEK
+	bool "RealTek RTD1xxx SoCs"
+	select ARM64
+	select SPL_LIBCOMMON_SUPPORT if SPL
+	select SPL_LIBGENERIC_SUPPORT if SPL
+	select SUPPORT_SPL
+	select FIT
+	select PYLIBFDT
+	help
+	  Support for the Realtek RTD1xxx SoCs family developed by Realtek Inc.
+
 config ARCH_RMOBILE
 	bool "Renesas ARM SoCs"
 	select DM
@@ -2243,6 +2253,8 @@ source "arch/arm/mach-mediatek/Kconfig"
 
 source "arch/arm/mach-qemu/Kconfig"
 
+source "arch/arm/mach-realtek/Kconfig"
+
 source "arch/arm/mach-rockchip/Kconfig"
 
 source "arch/arm/mach-s5pc1xx/Kconfig"
diff --git a/arch/arm/Makefile b/arch/arm/Makefile
index 5ebe0619d3..267fb2e271 100644
--- a/arch/arm/Makefile
+++ b/arch/arm/Makefile
@@ -75,6 +75,7 @@ machine-$(CONFIG_ARCH_NPCM)             += npcm
 machine-$(CONFIG_ARCH_OMAP2PLUS)	+= omap2
 machine-$(CONFIG_ARCH_ORION5X)		+= orion5x
 machine-$(CONFIG_ARCH_OWL)		+= owl
+machine-$(CONFIG_ARCH_REALTEK)		+= realtek
 machine-$(CONFIG_ARCH_RMOBILE)		+= rmobile
 machine-$(CONFIG_ARCH_ROCKCHIP)		+= rockchip
 machine-$(CONFIG_ARCH_S5PC1XX)		+= s5pc1xx
diff --git a/arch/arm/dts/Makefile b/arch/arm/dts/Makefile
index 9d28a485be..e9327ce934 100644
--- a/arch/arm/dts/Makefile
+++ b/arch/arm/dts/Makefile
@@ -1418,6 +1418,16 @@ dtb-$(CONFIG_SOC_K3_AM625) += k3-am625-sk.dtb \
 dtb-$(CONFIG_SOC_K3_AM62A7) += k3-am62a7-sk.dtb \
 			      k3-am62a7-r5-sk.dtb
 
+# dtb-$(CONFIG_ARCH_REALTEK)
+dtb-$(CONFIG_TARGET_RTD1319) += \
+       rtd1319-pymparticles-spi.dtb
+
+dtb-$(CONFIG_TARGET_RTD1619B) += \
+	tee.dtbo \
+	rtd1619b-bleedingedge-emmc.dtb \
+	rtd1619b-bleedingedge-spi.dtb \
+	rtd1619b-backinblack.dtb
+
 dtb-$(CONFIG_ARCH_MEDIATEK) += \
 	mt7622-rfb.dtb \
 	mt7623a-unielec-u7623-02-emmc.dtb \
-- 
2.34.1

