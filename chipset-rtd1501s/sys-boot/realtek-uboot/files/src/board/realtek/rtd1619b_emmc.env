bootargs=earlycon=uart8250,mmio32,0x98007800 console=ttyS0,460800 uio_pdrv_genirq.of_id=generic-uio rootfstype=ext4,squashfs rootwait firmware_class.path=/lib/firmware/realtek/rtd1619b/ pd_ignore_unused clk_ignore_unused loglevel=4
boot_yocto=run setup_bootargs; run setup_mmc; fatload mmc ${mmcidx}:1 ${bootmaddr} yocto.itb; bootm ${bootmaddr}${bootcfg}
altbootcmd=setenv bootcfg "#rescue"; setenv vconsole; run boot_yocto
bootdelay=2
initrd_high=0xffffffffffffffff
fdt_high=0xffffffffffffffff
loadaddr=0x03000000
bootmaddr=0x20000000
baudrate=460800
ethact=r8168#0
ethaddr=00:10:20:30:40:50
gatewayip=192.168.100.254
ipaddr=192.168.100.1
netmask=255.255.255.0
serverip=192.168.100.2
vconsole=video=HDMI-A-1:1920x1080@30 console=tty1
setup_bootargs=setenv bootargs "${bootargs} ${vconsole}"
setup_mmc=setenv mmcidx 0; mmc dev 1 && setenv mmcidx 1; setenv bootargs "${bootargs} root=/dev/mmcblk${mmcidx}p2"
bootcmd=run boot_chromium_os || run boot_yocto

# For Chromium OS on USB/SDMMC/eMMC
script_img=/boot/boot.scr.uimg
script_addr=0x7000000
distro_bootpart=c
devnum=0
setup_devtype=setenv devtype; if env exists boot_usb; then usb reset; setenv devtype usb; else run setup_mmc; setenv devtype mmc; setenv devnum ${mmcidx}; fi
load_uimg=run setup_devtype; test -e ${devtype} ${devnum}:${distro_bootpart} ${script_img} && load ${devtype} ${devnum}:${distro_bootpart} ${script_addr} ${script_img}
boot_chromium_os=run load_uimg && source ${script_addr}
