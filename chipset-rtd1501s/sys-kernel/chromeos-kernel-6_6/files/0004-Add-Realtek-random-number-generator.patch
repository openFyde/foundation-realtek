From 966d9a1870af7dcbc445a058319b09f2d6d394b4 Mon Sep 17 00:00:00 2001
From: James Tai <james.tai@realtek.com>
Date: Mon, 12 Jun 2023 09:53:46 +0800
Subject: [PATCH] char: hw_random: add Realtek random number generator

Change-Id: Ib9c38ab05e5b73f2e613fe3f8547a6d110f76481
---
 drivers/char/hw_random/Kconfig   |   7 +
 drivers/char/hw_random/Makefile  |   1 +
 drivers/char/hw_random/rtd-rng.c | 216 +++++++++++++++++++++++++++++++
 2 files changed, 224 insertions(+)
 create mode 100644 drivers/char/hw_random/rtd-rng.c

--- a/drivers/char/hw_random/Kconfig
+++ b/drivers/char/hw_random/Kconfig
@@ -573,6 +573,13 @@
 	  To compile this driver as a module, choose M here.
 	  The module will be called jh7110-trng.
 
+config HW_RANDOM_REALTEK
+	tristate "Realtek Random Number Generator support"
+	depends on ARCH_REALTEK
+	default HW_RANDOM
+	help
+	  Say Y, if you want to enable random number generator on Realtek platform.
+
 endif # HW_RANDOM
 
 config UML_RANDOM
--- a/drivers/char/hw_random/Makefile
+++ b/drivers/char/hw_random/Makefile
@@ -49,3 +49,4 @@
 obj-$(CONFIG_HW_RANDOM_CN10K) += cn10k-rng.o
 obj-$(CONFIG_HW_RANDOM_POLARFIRE_SOC) += mpfs-rng.o
 obj-$(CONFIG_HW_RANDOM_JH7110) += jh7110-trng.o
+obj-$(CONFIG_HW_RANDOM_REALTEK) += rtd-rng.o
