--- a/drivers/usb/host/xhci-plat.c
+++ b/drivers/usb/host/xhci-plat.c
@@ -13,7 +13,6 @@
 #include <linux/module.h>
 #include <linux/pci.h>
 #include <linux/of.h>
-#include <linux/of_device.h>
 #include <linux/platform_device.h>
 #include <linux/usb/phy.h>
 #include <linux/slab.h>
@@ -149,7 +148,7 @@
 	int			ret;
 	int			irq;
 	struct xhci_plat_priv	*priv = NULL;
-	bool			of_match;
+
 
 	if (usb_disabled())
 		return -ENODEV;
@@ -257,23 +256,16 @@
 					 &xhci->imod_interval);
 	}
 
-	/*
-	 * Drivers such as dwc3 manages PHYs themself (and rely on driver name
-	 * matching for the xhci platform device).
-	 */
-	of_match = of_match_device(pdev->dev.driver->of_match_table, &pdev->dev);
-	if (of_match) {
-		hcd->usb_phy = devm_usb_get_phy_by_phandle(sysdev, "usb-phy", 0);
-		if (IS_ERR(hcd->usb_phy)) {
-			ret = PTR_ERR(hcd->usb_phy);
-			if (ret == -EPROBE_DEFER)
-				goto disable_clk;
-			hcd->usb_phy = NULL;
-		} else {
-			ret = usb_phy_init(hcd->usb_phy);
-			if (ret)
-				goto disable_clk;
-		}
+	hcd->usb_phy = devm_usb_get_phy_by_phandle(sysdev, "usb-phy", 0);
+	if (IS_ERR(hcd->usb_phy)) {
+		ret = PTR_ERR(hcd->usb_phy);
+		if (ret == -EPROBE_DEFER)
+			goto disable_clk;
+		hcd->usb_phy = NULL;
+	} else {
+		ret = usb_phy_init(hcd->usb_phy);
+		if (ret)
+			goto disable_clk;
 	}
 
 	hcd->tpl_support = of_usb_host_tpl_support(sysdev->of_node);
@@ -296,17 +288,15 @@
 			goto dealloc_usb2_hcd;
 		}
 
-		if (of_match) {
-			xhci->shared_hcd->usb_phy = devm_usb_get_phy_by_phandle(sysdev,
-										"usb-phy", 1);
-			if (IS_ERR(xhci->shared_hcd->usb_phy)) {
-				xhci->shared_hcd->usb_phy = NULL;
-			} else {
-				ret = usb_phy_init(xhci->shared_hcd->usb_phy);
-				if (ret)
-					dev_err(sysdev, "%s init usb3phy fail (ret=%d)\n",
-						__func__, ret);
-			}
+		xhci->shared_hcd->usb_phy = devm_usb_get_phy_by_phandle(sysdev,
+			    "usb-phy", 1);
+		if (IS_ERR(xhci->shared_hcd->usb_phy)) {
+			xhci->shared_hcd->usb_phy = NULL;
+		} else {
+			ret = usb_phy_init(xhci->shared_hcd->usb_phy);
+			if (ret)
+				dev_err(sysdev, "%s init usb3phy fail (ret=%d)\n",
+					    __func__, ret);
 		}
 
 		xhci->shared_hcd->tpl_support = hcd->tpl_support;
